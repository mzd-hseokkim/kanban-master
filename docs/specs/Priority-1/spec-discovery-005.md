# spec-discovery-005 — 검색·라벨·템플릿 PRD

## 1. 개요
- 다수의 카드와 보드를 효율적으로 탐색하기 위한 검색/필터, 라벨링, 템플릿 기능을 정의한다.
- 사용자가 필요한 정보를 즉시 찾고 반복 작업을 줄이는 것에 초점을 맞춘다.

## 2. 연계 요구사항
- FR-12 검색 및 필터
- FR-13 라벨/태그
- FR-14 보드 템플릿

## 3. 사용자 시나리오
1. 사용자가 특정 담당자·라벨·마감 범위로 카드를 필터링하여 자신의 할 일을 집중적으로 확인한다.
2. 라벨 시스템을 정의해 우선순위, 업무 종류, 위험 상태 등을 시각적으로 구분한다.
3. 자주 사용하는 워크플로우 구성을 템플릿으로 저장하고 새 프로젝트 시작 시 재사용한다.

## 4. 디자인 가이드라인
- **검색/필터 패널**
  - 대시보드 헤더에 글로벌 검색 입력을 제공하고, 보드 내부에는 사이드 필터 패널을 둔다.
  - 필터 조건(담당자, 라벨, 마감 범위, 상태)을 토글 칩 형태로 표기하며, 적용 중인 조건을 상단에 정리해 보여준다.
- **라벨 UI**
  - 라벨 편집 모달에서 색상 팔레트(디자인 시스템 색상), 이름 입력, 줄임표 표시 옵션을 제공한다.
  - 카드에는 최대 3개의 라벨만 기본 표시하고, 추가 라벨은 “+N” 배지로 축약한다.
- **템플릿**
  - 템플릿 갤러리 카드에는 썸네일, 이름, 설명, 포함 컬럼 수·라벨 수를 표시한다.
  - 새 보드 생성 모달에서 템플릿 선택 단계를 추가하고, “빈 보드” 옵션도 함께 제공한다.

## 5. 프론트엔드 규격
- **검색/필터**
  - 글로벌 검색은 디바운스(300ms) 적용 후 API 호출, 결과는 보드/카드 섹션으로 나누어 표시한다.
  - 보드 내 필터는 URL 쿼리 파라미터로 상태를 유지하여 공유 가능한 링크를 제공한다.
- **라벨 관리**
  - `LabelManager` 컴포넌트: 라벨 리스트, 색상 선택기, 미리보기.
  - 라벨 선택 시 다중 선택 드롭다운을 사용하고, 최근 사용 라벨을 상단에 노출한다.
- **템플릿 플로우**
  - `TemplateGallery`에서 템플릿 미리보기, 복제 버튼을 제공한다.
  - 템플릿 적용 시 컬럼·라벨·WIP 제한 값 등을 한번에 세팅하고, 필요 시 수정 단계를 거친다.

## 6. 백엔드 규격
- **검색 API**
  - `GET /api/v1/search` (쿼리, 필터 파라미터: assigneeId, labelIds, dueFrom, dueTo, status)
  - 결과는 `boards[]`, `cards[]` 두 블록으로 반환한다.
- **라벨 API**
  - `GET/POST/PATCH/DELETE /api/v1/boards/{boardId}/labels`
  - 라벨 데이터: 이름(1~30자), 색상 토큰, 설명(선택).
  - 카드와 라벨 관계는 다대다 테이블로 관리한다.
- **템플릿 API**
  - `GET /api/v1/board-templates` (시스템 제공 + 사용자 저장)
  - `POST /api/v1/board-templates` (사용자 템플릿 저장)
  - 템플릿 적용 엔드포인트는 새 보드 생성과 결합하여 초기 컬럼/라벨 구성을 일괄 저장한다.

## 7. 수용 기준
1. 필터를 적용하면 1초 이내로 카드 리스트가 갱신되고, 적용된 조건을 한눈에 확인할 수 있다.
2. 라벨을 추가·수정하면 카드 리스트와 상세 뷰에 즉시 반영된다.
3. 템플릿으로 생성된 보드는 템플릿이 정의한 컬럼/라벨 구성을 그대로 가진다.
4. 글로벌 검색 결과에서 원하는 카드/보드를 클릭하면 해당 보드 뷰로 이동하며, 필터가 자동 적용된다.

## 8. 구현 순서
1. 라벨 관리 백엔드/프론트 구현(라벨 정의가 필터와 템플릿의 기반).
2. 검색/필터 API 및 UI 개발.
3. 보드 템플릿 저장/적용 기능 구현 및 새 보드 플로우와 연동.
