# Priority 2 요구사항 – Card Description HTML Editor

## 목적

칸반 보드의 카드 관리 기능 향상을 위해 **카드의 설명(description) 항목에 리치 텍스트 편집이 가능한 HTML Editor**를 추가하여 사용자가 더 풍부한 정보를 시각적으로 표현할 수 있도록 한다.

## 범위

- **포함**: 카드 상세 모달에서 HTML Editor 통합, 텍스트 서식(굵기, 기울임, 밑줄), 목록(순서, 비순서), 링크 삽입, 코드 블록, 실시간 미리보기, XSS 방지 처리, 백엔드 저장 및 조회.
- **제외**: 이미지/파일 업로드, 테이블 편집, 협업 실시간 편집, 버전 관리.

## 기능 요구사항

| ID | 제목 | 설명 | 우선순위 |
|----|------|------|----------|
| FR-05a | HTML Editor 통합 | 카드 상세 모달의 설명 입력란을 리치 텍스트 편집 가능한 HTML Editor로 교체한다. | Must |
| FR-05b | 기본 서식 지원 | 굵기, 기울임, 밑줄, 취소선 등 기본 텍스트 서식을 지원한다. | Must |
| FR-05c | 목록 및 링크 | 순서 있는 목록, 순서 없는 목록, 하이퍼링크 삽입을 지원한다. | Must |
| FR-05d | 코드 블록 | 인라인 코드 및 코드 블록 삽입을 지원한다. | Should |
| FR-05e | 실시간 미리보기 | 편집 중 실시간으로 렌더링된 결과를 확인할 수 있다. | Should |
| FR-05f | HTML 저장 및 조회 | 작성된 HTML 콘텐츠를 백엔드에 저장하고 조회 시 안전하게 렌더링한다. | Must |
| FR-05g | XSS 방지 | 악의적인 스크립트 삽입을 방지하기 위해 HTML sanitization을 적용한다. | Must |
| FR-05h | 편집/뷰 모드 전환 | 카드 상세 화면에서 편집 모드와 읽기 전용 뷰 모드를 구분한다. | Should |

## UX·인터랙션 요구사항

1. **직관적인 툴바**: Editor 상단에 서식 버튼이 명확하게 표시되어야 한다.
2. **키보드 단축키**: Ctrl+B (굵기), Ctrl+I (기울임) 등 표준 단축키를 지원한다.
3. **즉시 반영**: 서식 변경 사항이 즉시 편집 영역에 반영되어야 한다.
4. **읽기 모드**: 편집하지 않을 때는 깔끔하게 렌더링된 HTML만 표시한다.
5. **모바일 호환성**: 터치 디바이스에서도 기본 편집 기능이 정상 작동해야 한다.
6. **접근성**: 스크린 리더 사용자를 위한 적절한 ARIA 레이블을 제공한다.

## 비기능 요구사항

| 항목 | 기준 |
|------|------|
| 성능 | Editor 초기화 시간 < 500ms, 타이핑 지연 < 50ms |
| 신뢰성 | 편집 중 데이터 손실 방지 (자동 임시 저장 권장) |
| 보안 | XSS 공격 방지를 위한 서버/클라이언트 양측 HTML sanitization |
| 호환성 | 모던 브라우저(Chrome, Firefox, Safari, Edge) 지원 |
| 접근성 | WCAG 2.1 AA 준수, 키보드 네비게이션 및 스크린 리더 지원 |
| 데이터 제한 | 설명 필드 최대 길이 64KB (HTML 포함) |

## 가정 및 제약

- 프론트엔드는 `Quill`, `TipTap`, 또는 `Draft.js` 등 검증된 오픈소스 HTML Editor 라이브러리를 사용한다.
- 백엔드는 카드의 `description` 필드를 `TEXT` 또는 `CLOB` 타입으로 저장하며, HTML을 그대로 저장한다.
- HTML sanitization은 프론트엔드(렌더링 시)와 백엔드(저장 시) 양측에서 수행한다.
- 이미지 및 파일 첨부는 Priority 3 이상에서 별도로 다룬다.

## 미해결 이슈

1. Editor 라이브러리 선택 기준 및 라이선스 검토가 필요하다.
2. 자동 임시 저장(auto-save) 기능 구현 여부를 결정해야 한다.
3. 설명 필드의 최대 길이 및 용량 제한 정책을 확정해야 한다.
4. HTML 변환 시 마크다운 호환성 지원 여부를 검토해야 한다.
5. 다국어 환경에서 Editor UI 번역 및 로컬라이제이션 전략을 수립해야 한다.
