# 스프린트·목표·계획·측정 강화 작업 계획

## 목적
기존 칸반/작업 트래킹 기능과 자연스럽게 연결된 스프린트·목표·리포팅 기능을 단계적으로 도입하여 팀 운영 흐름을 강화한다.

## 범위
- 대상: 워크스페이스, 보드, 컬럼, 카드, 라벨, 멤버/역할, 활동 로그, 검색
- 새 객체: 스프린트, 목표/OKR, 리포트 스냅샷
- 제외: 배포/인프라 변경

## 설계 원칙
- 워크스페이스/보드 자산과 직접 연결: 스프린트·목표가 어디에 귀속되는지 명시
- 워크플로 제약 포함: 필수 필드, 상태 전이 규칙, 권한 재사용
- 리포트 신뢰성: 스냅샷 기반 집계, 시계 고정 테스트
- 점진적 롤아웃: 핵심 기능 → 연결/자동화 → 성능/신뢰성

## 데이터 모델 연결
- Sprint: 보드(Board = Team 개념)에 귀속, 기간, 상태(예정/진행/완료), 용량(포인트/시간), 목표 요약
- Card ↔ Sprint: 1:N (하나의 카드는 하나의 스프린트에만 속함)
- Rollover: 스프린트 종료 시 미완료 카드는 **복제(Clone)**하여 다음 스프린트로 이동. 원본 카드는 '이월됨(Rolled Over)' 상태로 해당 스프린트에 기록 보존.
- Goal/Objective: 보드 레벨, 스프린트·카드와 링크, 지표(완료율/포인트/커스텀)
- Report Snapshot: 스프린트별 카드 상태/포인트 스냅샷 (배치 작업으로 1일 1~2회 수집)

## 백엔드 작업
- API: 스프린트 CRUD+시작/완료, 카드 스프린트 배정/일괄 이동, 목표 생성·진척 업데이트, 리포트 조회
- 워크플로 제약: 진행 중 스프린트의 상태 전이 규칙, 필수 필드 검증
- 배치/이벤트: 스냅샷 수집(일 1~2회), 스프린트 종료 자동 처리, 롤오버(카드 복제 및 링크 처리)
- 검색 통합: 고급 검색 필터에 `sprint`, `goal` 추가

## 프론트엔드 작업
- 보드 설정: **스프린트 모드 ON/OFF** (기본: 칸반 모드, 선택 시 스프린트/백로그 뷰 활성화)
- **스프린트 헤더 (Sprint Header)**: 보드 상단에 고정 노출. 스프린트명, 남은 기간(D-Day), 진행률(프로그레스 바), 목표 요약 표시.
- **플래닝 뷰 (Planning View)**:
  - 좌측: 백로그 (미배정 카드)
  - 우측: 스프린트 목록 (Sprint 1, 2, 3...)
  - 인터랙션: 드래그 앤 드롭으로 배정
  - 시각화: 각 스프린트별 **용량 바(Capacity Bar)** (예: 할당된 포인트/팀 용량) 표시
- 카드 사이드패널: 스프린트/목표 배정, 포인트 입력
- 리포트 화면: 번다운/번업, 베로서티, 스코프 크립, 공유/내보내기
- 실시간성: WebSocket으로 스코프/완료율 즉시 반영

## 리포트 계산 기준
- 포인트/예상치 필드 표준화 → 용량·번다운 계산
- 리드타임/사이클타임: 활동 로그 기반 측정
- 베로서티: 최근 N 스프린트 완료 포인트 평균
- 스냅샷: 배치 작업을 통해 주기적으로 상태 저장 (성능 이슈 방지)

## 테스트/품질
- 백엔드: 전이 규칙, 용량 계산, 스냅샷 집계 단위·통합 테스트
- 프론트엔드: 차트 렌더/필터, 스프린트 모드 전환 UX
- 정적 분석 및 커버리지 ≥80%

## 롤아웃 단계
1) 모델·핵심 API: Sprint/Goal 모델, 보드=팀 개념 정립, 스프린트 모드 토글
2) 스프린트 운영: 백로그/플래닝 뷰, 스프린트 시작/종료, 롤오버(복제) 로직
3) 목표·지표 연계: 목표-카드 링크, 목표 진행률
4) 리포트·자동화: 스냅샷 배치, 번다운/베로서티 차트
5) 성능·안정화: 대량 데이터 스냅샷 최적화, 베타 오픈
